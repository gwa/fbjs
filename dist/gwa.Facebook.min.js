/*! Great White Ark Facebook JS wrapper: https://github.com/gwa/fbjs */
window.gwa=window.gwa||{},function(a,b){a.Facebook=function(a,c,d){var e,f,g,h,i,j=a,k=c,l=d,m=new gwa.EventDispatcher,n=!1;return{init:function(){if(!j)throw"ERROR: no app id set!";var a=this;b("body").append(b("<div />").attr("id","fb-root")),window.fbAsyncInit=function(){FB.init({appId:j,status:!0,cookie:!0,xfbml:!0,channelUrl:k}),l?FB.Canvas.setSize({height:l}):FB.Canvas.setSize(),e=FB,m.dispatch("FB_INIT",a)},function(){var a=document.createElement("script");a.async=!0,a.src=document.location.protocol+"//connect.facebook.net/en_US/all.js",document.getElementById("fb-root").appendChild(a)}()},on:function(a,b){return m.on(a,b)},off:function(a,b){return m.off(a,b),this},getDispatcher:function(){return m},setCanvasHeight:function(a){a?FB.Canvas.setSize({height:a}):FB.Canvas.setSize()},scrollTo:function(a,b){FB.Canvas.scrollTo(a,b)},getLoginStatus:function(a,b,c){c=c?!0:!1;var d=this;e.getLoginStatus(function(c){switch(n=!1,f=null,g=null,c.status){case"connected":n=!0,f=c.authResponse.userID,i=c.authResponse,"function"==typeof a&&a(c),m.dispatch("FB_LOGIN_STATUS",d,!0,c);break;default:"function"==typeof b&&b(c),m.dispatch("FB_LOGIN_STATUS",d,!1,c)}},c)},getPermissions:function(){e.api("/me/permissions",function(a){if(g=[],"object"==typeof a.data)for(var b in a.data)g[b]=a.data[b]})},hasPermission:function(a){return"undefined"==typeof g?!1:"undefined"==typeof g[a]?!1:g[a]?!0:!1},login:function(a,b,c){var d=this,g=function(a){switch(a.status){case"connected":n=!0,i=a.authResponse,f=a.authResponse.userID,"function"==typeof b&&b(a),m.dispatch("FB_LOGIN",d,!0,a);break;default:"function"==typeof c&&c(a),m.dispatch("FB_LOGIN",d,!1,a)}};e.login(g,{scope:a})},makeInstallButton:function(a,b,c){var d=this;a.click(function(a){a.preventDefault(),h=window.open(d.getInstallURL(b,!0,c),"install","location=0,status=1,scrollbars=0,width=600,height=400").focus()})},getInstallURL:function(a,b,c){var d="https://www.facebook.com/dialog/oauth?client_id="+j+"&redirect_uri="+c;return"string"==typeof a&&(d+="&scope="+a),("undefined"==typeof b||b===!0)&&(d+="&display=popup"),d},handleInstallResponse:function(a,b){a?m.dispatch("FB_INSTALL",this,!0):m.dispatch("FB_INSTALL",this,!1,b)},fb:function(){return e},getAPI:function(){return e},setAPI:function(a){e=a},getUserId:function(){return f},isLoggedIn:function(){return n},getAccessToken:function(){return"object"==typeof i?i.accessToken:null},getAuthResponse:function(){return i}}}}(window.gwa=window.gwa||{},"function"==typeof jQuery?jQuery:null);