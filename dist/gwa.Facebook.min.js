/*! Great White Ark Facebook JS wrapper: https://github.com/gwa/fbjs */
window.gwa=window.gwa||{},function(a){a.Facebook=function(a,b,c){var d,e,f,g,h=a,i=b,j=c,k=new gwa.EventDispatcher,l=!1;return{init:function(){if(!h)throw"ERROR: no app id set!";var a=this,b=document.createElement("div");b.setAttribute("id","fb-root"),document.getElementsByTagName("body")[0].appendChild(b),window.fbAsyncInit=function(){FB.init({appId:h,status:!0,cookie:!0,xfbml:!0,channelUrl:i}),j?FB.Canvas.setSize({height:j}):FB.Canvas.setSize(),d=FB,k.dispatch("FB_INIT",a)},function(){var a=document.createElement("script");a.async=!0,a.src=document.location.protocol+"//connect.facebook.net/en_US/all.js",document.getElementById("fb-root").appendChild(a)}()},on:function(a,b){return k.on(a,b)},off:function(a,b){return k.off(a,b),this},getDispatcher:function(){return k},setCanvasHeight:function(a){a?FB.Canvas.setSize({height:a}):FB.Canvas.setSize()},scrollTo:function(a,b){FB.Canvas.scrollTo(a,b)},getLoginStatus:function(a,b,c){c=c?!0:!1;var h=this;d.getLoginStatus(function(c){switch(l=!1,e=null,f=null,c.status){case"connected":l=!0,e=c.authResponse.userID,g=c.authResponse,"function"==typeof a&&a(c),k.dispatch("FB_LOGIN_STATUS",h,!0,c);break;default:"function"==typeof b&&b(c),k.dispatch("FB_LOGIN_STATUS",h,!1,c)}},c)},readPermissions:function(){var a=this;d.api("/me/permissions",function(b){if(f=[],"object"==typeof b.data){for(var c in b.data)f[c]=b.data[c];k.dispatch("FB_READ_PERMISSIONS",a,f)}})},hasPermission:function(a){if("undefined"==typeof f)throw"read permissions first";return"undefined"==typeof f[a]?!1:f[a]?!0:!1},isLoggedIn:function(){return l},login:function(a,b,c){var f=this,h=function(a){switch(a.status){case"connected":l=!0,g=a.authResponse,e=a.authResponse.userID,"function"==typeof b&&b(a),k.dispatch("FB_LOGIN",f,!0,a);break;default:"function"==typeof c&&c(a),k.dispatch("FB_LOGIN",f,!1,a)}};d.login(h,{scope:a})},me:function(){var a=this;d.api("me/",function(b){k.dispatch("FB_ME",a,b)})},getUserId:function(){return e},fb:function(){return d},setFB:function(a){d=a},getAccessToken:function(){return"object"==typeof g?g.accessToken:null},getAuthResponse:function(){return g}}}}(window.gwa=window.gwa||{});